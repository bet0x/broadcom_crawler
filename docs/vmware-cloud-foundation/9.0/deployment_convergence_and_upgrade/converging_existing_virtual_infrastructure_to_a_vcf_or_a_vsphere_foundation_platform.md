---
source_url: https://techdocs.broadcom.com/us/en/vmware-cis/vcf/vcf-9-0-and-later/9-0/deployment/converging-your-existing-vsphere-infrastructure-to-a-vcf-or-vvf-platform-.html
product: vmware-cloud-foundation
version: 9.0
section: Deployment, Convergence, and Upgrade
breadcrumb: Deployment, Convergence, and Upgrade > Converging Existing Virtual Infrastructure to a VCF or a vSphere Foundation Platform
---

# Converging Existing Virtual Infrastructure to a VCF or a vSphere Foundation Platform

You can use your existing virtual infrastructure as building blocks for your VCF or vSphere Foundation platforms. The process for converging includes complying with the general requirements and scenario-specific prerequisites, manual upgrade procedures of your existing components, and deployments and configurations performed by VCF Installer. In the supported scenarios, the manual high-level steps upgrade your existing components to version 9.0.x and prepare your infrastructure for the VCF Installer workflows. By using the VCF Installer workflows, you can converge the components to a new VCF Fleet or a new VCF Instance in an existing VCF fleet.

For a VCF platform, the following configurations, requirements, and converge scenarios are applicable for your management domain only. You import and upgrade workload domains in VCF Operations, after you deployed the management domain.

## Minimum Component Versions

The minimum component versions of your existing infrastructure are listed in the specific supported scenarios. See [Supported Scenarios to Converge to VCF](/us/en/vmware-cis/vcf/vcf-9-0-and-later/9-0/deployment/converging-your-existing-vsphere-infrastructure-to-a-vcf-or-vvf-platform-/supported-scenarios-to-converge-to-vcf.html).

## Supported Configurations

The following table lists supported and not supported configurations for converging your existing infrastructure to a management domain. Before you proceeding with a supported scenario, verify that your existing configuration is supported.

Starting with VCF 9.0.1, convergence of existing NSX instances without Enhanced Linked Mode (ELM) to a management domain is supported.

For VCF 9.0.0, convergence of existing NSX instances is not supported. Instead, you deploy a new NSX 9.0 instance during the converge operation by using VCF Installer.

- You can choose between an HA deployment model with a cluster of 3x NSX Managers or a Simple-node deployment model with 1 NSX Manager.
- You can choose to configure overlay traffic on a management VMkernel or on a VLAN-backed segment.

| Category | Supported | Not Supported |
| --- | --- | --- |
| Storage | - Enough free space for the full deployment of VMware Cloud Foundation, according to the Planning and Preparation Workbook - Datastore shared across all hosts in the cluster, accessible from all hosts in the cluster, and writable by all hosts in the cluster - Minimum number of ESX hosts for new deployments of VCF Operations, VCF Automation, and NSX Manager   - Simple deployments     - Minimum 3 ESX hosts with vSAN Storage or minimum 2 ESX hosts with external storage   - High availability deployments     - minimum 4 ESX hosts - Any supported vSphere storage type.  If the default cluster includes multiple datastore types, VCF determines the primary datastore using the following priority:   1. vSAN   2. NFS v3   3. VMFS   4. NFS 4.1   5. iSCSI   6. vVols\* If you are using a JSON specification file to converge, you can use the existingDatastoreName property to override the priority order and use a specific datastore.  - vSAN Stretched Clusters (ESA, OSA, or ESA storage clusters) with at least 3 ESX hosts in each availability zone and a witness host deployed in a vSAN witness zone that is different from the availability zones - Two-node vSAN clusters for remote offices/branch offices (ROBO) with two ESX hosts and one witness host for VCF simple deployments   For two-node vSAN clusters, the admission control policy should be configured to >= 50% for both memory and CPU.   - vSAN OSA clusters, where deduplication and compression are either both activated or both deactivated - vSAN OSA clusters with activated compression only |  |
| Network | - Virtual Distributed Switch (VDS) 8.0 or later You can move to a vSphere Distributed Switch. See [Migrating from Standard to Distributed vSwitch](https://techdocs.broadcom.com/us/en/vmware-cis/vsan/vsan/8-0/vsan-network-design/migrating-from-standard-to-distributed-vswitch.html). - Ports aligned with [VMware Ports and Protocols](https://ports.broadcom.com/) - vCenter instance with temporary IP address - Multiple VMkernel interfaces for vMotion traffic - Statically assigned VMkernel IP addresses - Dedicated network for VMware vMotion - vSphere Distributed Switches (VDS) with enabled link aggregation control protocol (LACP) - ESX hosts with a combination of standard switches and VDS - ESX hosts with multiple physical uplinks of minimum of 10Gbps, that are assigned to a vSphere Distributed Switch - ESX hosts with a single pNIC with a minimum of 10 Gbps speed, that is connected to a standard switch - Clusters using shared vSphere Distributed Switches - ESX hosts with a single Physical Network Adapter (pNIC) - Starting with VCF 9.0.1:   - vCenter instances with existing NSX registrations without ELM   - vCenter instances without ELM and with existing NSX Local Managers that are part of an NSX Federation configuration | - Cisco virtual switches - vCenter instances without a vSphere Distributed Switch - Custom vCenter ports for client connections - Environments using ports not aligned with [VMware Ports and Protocols](https://ports.broadcom.com/) - Dynamically allocated VMkernel IP addresses You can move to statically assigned IP addresses. See [Edit a VMkernel Adapter Configuration](https://techdocs.broadcom.com/us/en/vmware-cis/vsphere/vsphere/8-0/vsphere-networking-8-0/setting-up-vmkernel-networking/edit-vmkernel-networking-on-a-vsphere-standard-switch-in-the-vsphere-web-client.html). - Shared networks for VMware vMotion - Multiple NSX Manager instances in a vCenter instance - NSX Bare Metal Edge nodes |
| Compute | - Virtual machine of vCenter instance hosted on one of the clusters that is managed by the same instance You can move the virtual machine to a supported location by using VMware vMotion. See [Migrating Virtual Machines Between vCenter Systems](https://techdocs.broadcom.com/us/en/vmware-cis/vsphere/vsphere/8-0/vcenter-and-host-management-8-0/migrating-virtual-machines-host-management/vmotion-across-vcenter-server-systems-host-management.html). - Clusters using vSphere Configuration Profiles - Clusters using vSphere Lifecycle Manager images You can convert clusters that use baselines to use images before upgrading to ESX 9.0. See [Convert a Cluster or a Host That Uses Baselines Into a Cluster or a Host That Uses vSphere Lifecycle Manager Images](https://techdocs.broadcom.com/us/en/vmware-cis/vsphere/vsphere/8-0/managing-host-and-cluster-lifecycle-8-0/using-images-to-install-and-update-esxi-hosts-and-clusters/switching-from-baselines-to-images.html#GUID-B54663AB-B1D1-4E87-8B8C-76FF2998A477-en). - Clusters using fully automated Dynamic Resource Scheduler (DRS) - Standalone ESX hosts and single ESX host clusters, if your vCenter instance has an additional cluster that meets the cluster requirements You can manually perform the lifecycle management of the standalone ESX hosts and single ESX host clusters by using the vSphere Client.  - Clusters using fully automated Dynamic Resource Scheduler (DRS) | - Clusters managed by Dell VxRail - vCenter instances with ELM If your vCenter instance does not have existing NSX registrations, you can manually upgrade your vCenter instances to version 9.0.x and then break ELM for all vCenter instances. See [Deactivate Enhanced Link Mode from vCenter Using the cmsso-util break-elm Utililty](/us/en/vmware-cis/vcf/vcf-9-0-and-later/9-0/fleet-management/what-is/points-to-consider-while-setting-up-vmware-cloud-foundation-sso/how-to-deactivate-enhanced-link-mode-in-vcenter-without-downtime.html). - vCenter instance VM hosted on a cluster that is managed by a different vCenter instance - Clusters using baselines for lifecycle management - Clusters using manual or partially automated Dynamic Resource Scheduler (DRS) You can set the automation level to fully automated. See [Edit Cluster Settings](https://techdocs.broadcom.com/us/en/vmware-cis/vsphere/vsphere/8-0/vsphere-resource-management-8-0/creating-a-drs-cluster.html#GUID-755AB944-F3D0-43DD-82CD-8CDDDF8674E8-en). - Password Management of imported ESX hosts via the Password Management Console of VCF Operations - Adding hosts to imported clusters without the use of the vSphere Client - Partial import of clusters   - All clusters managed by a vCenter instance are imported together - Clusters that use vCenter High Availability (VCHA) |

\* vSphere Virtual Volumes (vVols) framework is deprecated in version 9 and using it is not recommended.